# ADR-003: ML Model Selection — BirdNET

Status: Accepted
Date: 2026-02-19
Deciders: @owner

## Context

Приложению необходима ML-модель для распознавания видов птиц по аудио. Модель должна работать на устройстве (offline), поддерживать европейские виды и конвертироваться в TensorFlow Lite.

Лицензия BirdNET — **CC BY-NC-SA 4.0** (только некоммерческое использование).

## Decision

Используем **BirdNET** (TU Chemnitz) через TensorFlow Lite.

- Источник: https://github.com/kahst/BirdNET-Analyzer
- Формат на устройстве: `.tflite`
- Целевая точность: 80-90%
- Покрытие: европейские виды птиц

**Стратегия по лицензии:** начинаем с BirdNET для MVP. Перед монетизацией — одно из:
1. Получить коммерческую лицензию у TU Chemnitz
2. Обучить собственную модель на собранных данных + открытых датасетах (Xeno-canto)
3. Использовать модели из Bird-CLEF с подходящей лицензией

## Consequences

### Positive
- Готовая, хорошо протестированная модель — быстрый старт без ML-экспертизы
- Широкое покрытие видов, включая европейские
- Активное сообщество и документация
- TFLite версия оптимизирована для мобильных устройств

### Negative
- CC BY-NC-SA 4.0 запрещает коммерческое использование — нужно решить до монетизации
- Зависимость от стороннего проекта (обновления, поддержка)
- Размер модели увеличивает APK (необходимо оценить при интеграции)

### Neutral
- Модель можно обновлять без переустановки приложения (download at first launch или через assets)
- Данные собранные приложением могут использоваться для обучения собственной модели в будущем

## Alternatives Considered

- **Bird-CLEF winners (Kaggle)** — высокая точность, но нужна самостоятельная конвертация в TFLite и оптимизация. Лицензии разные
- **Собственная модель** — полный контроль и нет лицензионных ограничений, но огромный объём работы и не факт, что достигнем качества BirdNET
